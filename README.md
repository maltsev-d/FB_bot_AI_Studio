# Facebook Messenger Bot —Å Flask –∏ ngrok

## üì¶ –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ–π –±–æ—Ç –¥–ª—è Facebook Messenger, –∫–æ—Ç–æ—Ä—ã–π:
- –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- –æ—Ç–≤–µ—á–∞–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—Å—Ç–∞
- —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Flask –∏ ngrok

–ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—é –∏–ª–∏ –Ω–∞ —Å–æ–±–µ—Å–µ–¥–æ–≤–∞–Ω–∏–∏.

---

## üöÄ –ë—ã—Å—Ç–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/yourusername/facebook-bot-demo.git
cd facebook-bot-demo
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install -r requirements.txt
```

### 3. –°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env`

```ini
PAGE_ACCESS_TOKEN=—Ç–≤–æ–π_page_access_token
VERIFY_TOKEN=—Ç–≤–æ–π_verify_token
NGROK_AUTH_TOKEN=—Ç–≤–æ–π_ngrok_auth_token
APP_ID=—Ç–≤–æ–π_app_id_–∏–∑_facebook
```

### 4. –ó–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞

–ò—Å–ø–æ–ª—å–∑—É–π `.bat` —Ñ–∞–π–ª, —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å Flask, ngrok –∏ –æ–±–Ω–æ–≤–∏—Ç—å webhook –∑–∞ –æ–¥–∏–Ω —à–∞–≥:

```bash
start_bot.bat
```

---

## üß† –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ app.py                  # –û—Å–Ω–æ–≤–Ω–æ–π Flask-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ ngrok_start.py         # –ó–∞–ø—É—Å–∫ —Ç—É–Ω–Ω–µ–ª—è ngrok
‚îú‚îÄ‚îÄ update_fb_webhook.py   # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook –¥–ª—è Facebook
‚îú‚îÄ‚îÄ .env                   # –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–µ –ø—É—à–∏–º –≤ Git)
‚îú‚îÄ‚îÄ start_bot.bat          # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ–≥–æ —Å—Ç–µ–∫–∞
‚îú‚îÄ‚îÄ .gitignore             # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è Git
‚îî‚îÄ‚îÄ README.md              # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üì¨ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ Facebook-—Å—Ç—Ä–∞–Ω–∏—Ü—É.
2. Facebook —à–ª—ë—Ç `POST` –Ω–∞ `https://<ngrok>.ngrok-free.app/webhook`.
3. Flask –ª–æ–≤–∏—Ç —Å–æ–±—ã—Ç–∏–µ –∏:
   - –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç "–ø—Ä–∏–≤–µ—Ç", –æ—Ç–≤–µ—á–∞–µ—Ç: **"–ü—Ä–∏–≤–µ—Ç! –†–∞–¥ —Ç–µ–±—è –≤–∏–¥–µ—Ç—å üòé"**
   - –∏–Ω–∞—á–µ —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç: **"–ö–∞–∫–æ–π —É —Ç–µ–±—è –æ–ø—ã—Ç —Ä–∞–±–æ—Ç—ã?"**

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **ngrok URL –≤—Ä–µ–º–µ–Ω–Ω—ã–π**. –ß—Ç–æ–±—ã –æ–Ω –Ω–µ –º–µ–Ω—è–ª—Å—è, –º–æ–∂–Ω–æ –æ–ø–ª–∞—Ç–∏—Ç—å –ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏ –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π –¥–æ–º–µ–Ω.
- Facebook —Ç—Ä–µ–±—É–µ—Ç HTTPS ‚Äî –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ngrok.

---

## üßº .gitignore

```gitignore
.env
ngrok_start.py
start_bot.bat
__pycache__/
*.pyc
```

---

## üß† –ê–≤—Ç–æ—Ä

–°–æ–±—Ä–∞–Ω–æ –±—Ä–∞—Ç–∞–Ω–æ–º –ø–æ–¥ –∫–ª—é—á, —á—Ç–æ–± –º–æ–∂–Ω–æ –±—ã–ª–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ —Ä–∞–¥–æ–≤–∞—Ç—å—Å—è üòé